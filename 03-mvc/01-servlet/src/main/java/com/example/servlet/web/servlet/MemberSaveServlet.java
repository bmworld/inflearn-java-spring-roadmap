package com.example.servlet.web.servlet;import com.example.servlet.basic.repository.MemberRepository;import com.example.servlet.domain.member.Member;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;@WebServlet(name = "memberSaveServlet", urlPatterns = "/servlet/members/save")public class MemberSaveServlet extends HttpServlet {  private final MemberRepository memberRepository = MemberRepository.getInstance(); // 싱글톤이기 때문에,  instance 를 사용한다.  @Override  protected void service(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {    System.out.println("MemberSaveServlet.service");    Member member = null;    try {      String username = req.getParameter("username");      int age = Integer.parseInt(req.getParameter("age"));      member = new Member(username, age);      memberRepository.save(member);    } catch (Exception e) {      e.getStackTrace();    }    // 응답  Type > HTML 설정    res.setContentType("text/html");    res.setCharacterEncoding("UTF-8");    PrintWriter w = res.getWriter();    w.write(member != null ? "<!DOCTYPE html>\n" +      "<html>\n" +      "<head>\n" +      "  <meta charset=\"UTF-8\">\n" +      "  <title>Save Member Result Page</title>\n" +      "</head>\n" +      "<body>\n" +      "<main>\n" +      "  <h1>Save Member Successed</h1>\n" +      "  <hr/>\n" +      "\n" +      "  <ul>" +      "  <li>id = " + member.getId() + "</li>" +      "  <li>username = " + member.getUsername() + "</li>" +      "  <li>age = " + member.getAge() + "</li>" +      "  </ul>" +      " <a href=\"/index.html\">Go to Main</a>" +      "</main>\n" +      "\n" +      "</body>\n" +      "</html>" : "에러발생");  }}